{% extends 'base.html' %}
{% block title %}Reset password{% endblock %}
{% block content %}
<h1 class="h4 mb-3 text-center">Reset your password</h1>

<form method="post">
  <!-- Reset key -->
 <input name="code"
       class="form-control mb-3 text-center"
       maxlength="40"
       placeholder="Paste your 40-char reset key here"
       value="{{ code_input }}"
       required>

  <!-- New password + show toggle -->
  <div class="input-group mb-2">
      <input id="pw" name="password" type="password"
             class="form-control" placeholder="New password" required>
      <button type="button" class="btn btn-outline-secondary"
              onclick="togglePw('pw', this)">Show</button>
  </div>

  <!-- Confirm password + show toggle -->
  <div class="input-group mb-3">
      <input id="pw2" name="confirm_password" type="password"
             class="form-control" placeholder="Confirm password" required>
      <button type="button" class="btn btn-outline-secondary"
              onclick="togglePw('pw2', this)">Show</button>
  </div>

  <button class="btn btn-primary w-100">Update password</button>
</form>

<script>
function togglePw(id, btn){
  const i=document.getElementById(id);
  i.type = i.type==='password' ? 'text' : 'password';
  btn.innerText = i.type==='password' ? 'Show' : 'Hide';
}
</script>
{% endblock %}